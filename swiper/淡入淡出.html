<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    #app {
      height: 200px;
      width: 200px;
      background-color: palevioletred;
      position: absolute;
      top: 100px;

    }
  </style>
</head>
<body>
<div id="app"></div>
<button onclick="start()">淡入淡出</button>

<script>

  var timer = null;
  var alpha = 30;

  function start() {
    startMove(100);
  }

  //方法({width  height  opacity})
  function startMove(iTarget) {
    let oDiv = document.getElementById("app");

    timer = setInterval(function () {
      var speed = 0;
      if (alpha < iTarget) {
        speed = 10;
      } else {
        speed = -10;
      }
      if (alpha === iTarget) {
        clearInterval(timer);
      } else {
        alpha += speed;

        // oDiv.style.filter = 'alpha(opacity:' + alpha + ')';
        oDiv.style.opacity = alpha / 100;
      }

    }, 500);
  }

</script>
</body>
</html>